<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-NJDTZQ9Z');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vivid Memories Photography</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Typekit for Trajan Pro 3 font -->
    <link rel="stylesheet" href="https://use.typekit.net/xtn8ihj.css">
    <style>
        /* Smooth scrolling for anchor links */
        html {
            scroll-behavior: smooth;
        }

        /* Custom Tailwind Colors */
        :root {
            --color-primary-blue: #21229d; /* Updated primary blue */
            --color-accent-green: #00FF00;
        }

        /* Extend Tailwind CSS with custom colors */
        @tailwind base;
        @tailwind components;
        @tailwind utilities;

        .bg-primary-blue {
            background-color: var(--color-primary-blue);
        }

        .text-primary-blue {
            color: var(--color-primary-blue);
        }

        .border-primary-blue {
            border-color: var(--color-primary-blue);
        }

        .bg-accent-green {
            background-color: var(--color-accent-green);
        }

        .text-accent-green {
            color: var(--color-accent-green);
        }

        .border-accent-green {
            border-color: var(--color-accent-green);
        }

        /* Custom Fonts */
        body {
            font-family: "Playfair Display", serif; /* Changed body font to Playfair Display for a serif style */
        }
        /* Font for the hero heading and section titles, matching the logo's serif style with Trajan Pro 3 Regular */
        .font-trajan-pro-3 {
            font-family: "trajan-pro-3", serif;
            font-weight: 400; /* Changed to Regular weight (400) */
            font-style: normal;
        }

        /* Styles for the image modal overlay */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Reduced opacity for better background visibility */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transform: scale(0.8); /* Initial state for scale-in animation */
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        }

            .modal-overlay.active {
                opacity: 1;
                visibility: visible;
                transform: scale(1); /* Final state for scale-in animation */
            }

        /* Styles for the modal content (image container) */
        .modal-content {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem; /* Add some padding around the image within the modal */
        }

        /* Styles for the image inside the modal */
        .modal-image {
            max-width: 90vw; /* Max width relative to viewport width */
            max-height: 90vh; /* Max height relative to viewport height */
            object-fit: contain; /* Ensures the whole image is visible without cropping */
            border-radius: 0.5rem; /* rounded-lg */
            transition: opacity 0.3s ease; /* Transition for image fade in/out */
        }

        /* New CSS for blurring the background when modal is active */
        body.modal-active > *:not(.modal-overlay) {
            filter: blur(5px); /* Apply blur effect */
            pointer-events: none; /* Disable interaction with blurred background */
            transition: filter 0.3s ease;
        }

        /* Styles for modal navigation buttons */
        .modal-nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 9999px; /* rounded-full */
            cursor: pointer;
            font-size: 1.5rem;
            transition: background-color 0.3s ease;
            z-index: 101; /* Ensure buttons are above image */
        }

            .modal-nav-button:hover {
                background-color: rgba(0, 0, 0, 0.7);
            }

            .modal-nav-button.left {
                left: 1rem;
            }

            .modal-nav-button.right {
                right: 1rem;
            }

        /* Styles for modal close button */
        .modal-close-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 9999px; /* rounded-full */
            cursor: pointer;
            font-size: 1.5rem;
            transition: background-color 0.3s ease;
            z-index: 101;
        }

            .modal-close-button:hover {
                background-color: rgba(0, 0, 0, 0.7);
            }

        /* Gallery Carousel Styles */
        /* Outer container for the carousel, defines the visible window */
        #galleryCarousel {
            display: flex;
            overflow-x: scroll; /* Enable horizontal scrolling */
            justify-content: flex-start; /* Aligns images to the start of the container */
            align-items: center;
            width: 100%; /* Takes full width of its parent (.container) */
            padding: 0 1rem; /* Padding for the arrows not to be on the very edge */
            box-sizing: border-box; /* Include padding in width calculation */
            cursor: grab; /* Cursor for dragging */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        }
            /* Hide scrollbar for gallery carousel */
            #galleryCarousel::-webkit-scrollbar {
                display: none;
            }

        #galleryCarousel {
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }

        /* Inner container that holds all images and will be transformed for scrolling */
        #innerCarousel {
            display: flex;
            /* No explicit transform transition here, scrolling is handled by scrollLeft */
            width: fit-content; /* Allows content to dictate its width */
        }

        /* Individual gallery image styling */
        .gallery-image {
            /* Now square with object-fit cover and object-position top */
            width: 18vw; /* Relative width to viewport */
            height: 18vw; /* Makes it square */
            max-width: 200px; /* Max width for consistency */
            max-height: 200px; /* Max height for consistency */
            object-fit: cover; /* Images will cover the square area */
            object-position: top; /* Ensures the top of the image is always visible */
            border-radius: 0.5rem; /* Rounded corners */
            cursor: pointer;
            border: 3px solid transparent; /* Default transparent border */
            transition: border-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease; /* Added box-shadow to transition */
            margin: 0.4rem; /* Gap between images (0.4rem on each side) */
            flex-shrink: 0; /* Prevents images from shrinking */
        }
            /* Hover effect for gallery images */
            .gallery-image:hover {
                transform: scale(1.05);
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Tailwind shadow-lg equivalent */
            }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 1024px) {
            .gallery-image {
                width: 25vw; /* Show 4 images on large screens */
                height: 25vw;
            }
        }

        @media (max-width: 768px) {
            .gallery-image {
                width: 40vw; /* Show 2-3 images on medium screens */
                height: 40vw;
            }
        }

        @media (max-width: 480px) {
            .gallery-image {
                width: 60vw; /* Show 1-2 images on small screens */
                height: 60vw;
            }
        }

        /* Positioning and styling for carousel navigation arrows */
        #carouselPrev, #carouselNext {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 9999px;
            cursor: pointer;
            font-size: 1.5rem;
            transition: background-color 0.3s ease;
            z-index: 10;
        }

        #carouselPrev {
            left: 0;
        }

        #carouselNext {
            right: 0;
        }

            /* Disabled state for carousel navigation buttons */
            #carouselPrev:disabled, #carouselNext:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }

        /* Mobile menu specific styles for animation */
        #mobile-menu-container {
            /* Initial state for sliding animation */
            max-height: 0; /* Hidden state */
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out; /* Smooth transition */
            opacity: 0; /* Start hidden */
        }

            #mobile-menu-container.open {
                max-height: 500px; /* Arbitrary large enough height to show all content */
                opacity: 1;
                transition: max-height 0.3s ease-in, opacity 0.3s ease-in; /* Smooth transition */
            }

        /* Styles for the Scroll-to-Top FAB */
        #scrollTopFab {
            position: fixed;
            bottom: 1rem; /* Adjusted for better mobile visibility */
            right: 1rem; /* Adjusted for better mobile visibility */
            background-color: rgba(0, 0, 0, 0.5); /* Changed to rgba(0, 0, 0, 0.5) */
            color: white;
            width: 2.5rem; /* Equal width and height for a circle */
            height: 2.5rem; /* Equal width and height for a circle */
            border-radius: 50%; /* Makes it a perfect circle */
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 1.5rem; /* Icon size */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08); /* Tailwind shadow-md */
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
            opacity: 0; /* Initially hidden */
            visibility: hidden;
            z-index: 999; /* Higher z-index to ensure visibility */
            transform: scale(0.9); /* Slightly scaled down when hidden */
        }

            #scrollTopFab.show {
                opacity: 1;
                visibility: visible;
                transform: scale(1);
            }

            #scrollTopFab:hover {
                transform: scale(1.1); /* Slightly enlarge on hover */
                box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2), 0 4px 6px rgba(0, 0, 0, 0.1); /* Larger shadow on hover */
            }

        /* Styles for expandable service cards */
        .service-card {
            background-color: white;
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); /* shadow-md */
            padding: 1.5rem; /* p-6 */
            display: flex;
            flex-direction: column; /* Stack icon/title and content vertically */
            cursor: pointer;
            overflow: hidden; /* Hide overflow content initially */
            transition: all 0.3s ease-out; /* Smooth transition for all properties */
            will-change: transform, box-shadow, height; /* Optimize for these changes */
            align-self: flex-start; /* Re-added to prevent stretching to sibling height */
            min-height: 80px; /* Changed min-height to 80px */
            justify-content: center; /* Changed to center to vertically center content within the card */
        }

        .service-card-header {
            display: flex;
            align-items: center;
            gap: 1rem; /* Replaced space-x-4 with gap-4 for modern flexbox spacing */
            padding-bottom: 0.5rem; /* Add some padding below the header */
            justify-content: center; /* Added for centering icon and title */
            /* Removed flex-wrap: wrap; from here */
        }

            /* New rule to ensure h3 text wraps within its allocated space */
            .service-card-header h3 {
                flex-grow: 1; /* Allows h3 to take up available space */
                flex-shrink: 1; /* Allows h3 to shrink if needed */
                min-width: 0; /* Essential for flex items to shrink below their content size */
            }

        .service-card-content {
            max-height: 0; /* Initially hidden */
            opacity: 0; /* Initially transparent */
            overflow: hidden;
            transition: max-height 0.5s ease-out, opacity 0.5s ease-out, padding 0.5s ease-out; /* Smooth transition for content */
            padding-top: 0; /* No padding when collapsed */
        }

        .service-card.expanded .service-card-content {
            /* max-height is now set directly by JavaScript based on scrollHeight */
            opacity: 1;
            padding-top: 1rem; /* Add padding when expanded */
        }

        .service-card:hover {
            transform: scale(1.02); /* Slightly less scale than before to accommodate expansion */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Tailwind shadow-lg */
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-800">
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJDTZQ9Z"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!-- Header Section - Made Sticky -->
    <header class="bg-primary-blue text-white shadow-lg sticky top-0 z-50 py-4 px-4 md:px-0">
        <div class="container mx-auto flex justify-between items-center">
            <!-- Logo -->
            <div class="flex-shrink-0">
                <!-- flex-shrink-0 to prevent logo from shrinking -->
                <img src="images/Vivid Memories-color-banner.png"
                     alt="Vivid Memories Photography Logo"
                     class="h-16 w-auto rounded-md"
                     onerror="this.onerror=null;this.src='https://placehold.co/200x64/21229d/FFFFFF?text=Vivid+Memories';">
            </div>

            <!-- Desktop Navigation -->
            <nav class="hidden md:flex md:items-center md:space-x-6">
                <ul class="flex space-x-6">
                    <li><a href="#home" class="hover:text-accent-green transition duration-300 font-trajan-pro-3">Home</a></li>
                    <li><a href="#gallery" class="hover:text-accent-green transition duration-300 font-trajan-pro-3">Gallery</a></li>
                    <li><a href="#services" class="hover:text-accent-green transition duration-300 font-trajan-pro-3">Services</a></li>
                    <li><a href="#about" class="hover:text-accent-green transition duration-300 font-trajan-pro-3">About Us</a></li>
                    <!-- Added pr-4 (padding-right: 1rem) for desktop to give space from the edge -->
                    <li class="pr-4"><a href="#contact" class="hover:text-accent-green transition duration-300 font-trajan-pro-3">Contact</a></li>
                </ul>
            </nav>

            <!-- Mobile Menu Button -->
            <div class="md:hidden">
                <button id="hamburger-button" class="text-white focus:outline-none py-1 pl-1 pr-0 rounded hover:bg-gray-700">
                    <svg class="h-6 w-6" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
                <button id="close-button" class="hidden text-white focus:outline-none py-1 pl-1 pr-0 rounded hover:bg-gray-700">
                    <svg class="h-6 w-6" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
        </div>

        <!-- Mobile Navigation (Absolute positioned, toggled by JS) -->
        <!-- Changed 'hidden' to 'mobile-menu-closed' for animation control -->
        <nav id="mobile-menu-container" class="md:hidden absolute top-full left-0 w-full bg-primary-blue shadow-lg">
            <ul class="flex flex-col items-center space-y-2 py-4">
                <li><a href="#home" class="hover:text-accent-green transition duration-300 mobile-menu-link font-trajan-pro-3">Home</a></li>
                <li><a href="#gallery" class="hover:text-accent-green transition duration-300 mobile-menu-link font-trajan-pro-3">Gallery</a></li>
                <li><a href="#services" class="hover:text-accent-green transition duration-300 mobile-menu-link font-trajan-pro-3">Services</a></li>
                <li><a href="#about" class="hover:text-accent-green transition duration-300 mobile-menu-link font-trajan-pro-3">About Us</a></li>
                <li><a href="#contact" class="hover:text-accent-green transition duration-300 mobile-menu-link font-trajan-pro-3">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="relative bg-cover bg-center h-screen flex items-center justify-center text-white"
             style="background-image: url('images/DZC_8642_E_VMP_Hero.jpg');">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="text-center z-10 p-8 rounded-lg shadow-lg bg-black bg-opacity-40 max-w-2xl mx-4">
            <h1 class="text-5xl md:text-7xl mb-4 rounded-md font-trajan-pro-3">Capture Your Memories</h1>
            <p class="text-xl md:text-2xl mb-8">Creating vivid memories that last a lifetime.</p>
            <a href="#gallery" class="bg-accent-green text-primary-blue font-bold py-3 px-8 rounded-full hover:bg-white hover:text-accent-green transition duration-300 transform hover:scale-105 shadow-lg font-trajan-pro-3">View Our Work</a>
        </div>
    </section>

    <!-- Gallery Section - Now a Carousel with horizontal drag/swipe -->
    <section id="gallery" class="container mx-auto py-16 px-4 bg-gray-100">
        <h2 class="text-4xl font-trajan-pro-3 text-center mb-12 text-primary-blue">Our Gallery</h2>
        <div class="relative flex items-center justify-center">
            <!-- Carousel Container (Viewport) -->
            <div id="galleryCarousel" class="rounded-lg shadow-lg">
                <!-- Inner Carousel Container (holds all images and moves) -->
                <div id="innerCarousel" class="">
                    <!-- Each image will be a gallery item -->
                    <img src="images/DZC_3526_E_VMP.jpg" alt="Gallery Image" class="gallery-image">
                    <img src="images/MT-Wedding-136.jpg" alt="Gallery Image" class="gallery-image">
                    <img src="images/DZC_3696_E_VMP.jpg" alt="Gallery Image" class="gallery-image">
                    <img src="images/DZC_1057_E_VMP.jpg" alt="Gallery Image" class="gallery-image">
                    <img src="images/DZC_2381_E_VMP.jpg" alt="Gallery Image" class="gallery-image">
                    <img src="images/DZC_3034_E_VMP.jpg" alt="Gallery Image" class="gallery-image">
                    <img src="images/DZC_8642_E_VMP.jpg" alt="Gallery Image" class="gallery-image">
                </div>
            </div>

            <!-- Navigation Arrows for Carousel -->
            <button id="carouselPrev" class="">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button id="carouselNext" class="">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-16 bg-primary-blue text-white">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-trajan-pro-3 text-center mb-12">Our Services</h2>
            <!-- Changed from grid to flex for independent card expansion -->
            <div class="flex flex-wrap justify-center gap-8">
                <!-- Service Card 1: Portraits -->
                <div class="service-card w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]" data-service="portraits">
                    <div class="service-card-header">
                        <i class="fas fa-camera text-4xl text-primary-blue"></i>
                        <h3 class="text-xl font-semibold text-primary-blue font-trajan-pro-3">Portraits</h3>
                    </div>
                    <div class="service-card-content">
                        <p class="text-gray-700 mb-4 text-justify">
                            Capture your individuality with our natural light professional portrait sessions. Perfect for personal branding, social media, or simply celebrating yourself. We work with you to create stunning images that reflect your unique personality.
                        </p>
                    </div>
                </div>
                <!-- Service Card 2: Family Photos (Outdoor) -->
                <div class="service-card w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]" data-service="family">
                    <div class="service-card-header">
                        <i class="fas fa-users text-4xl text-primary-blue"></i>
                        <h3 class="text-xl font-semibold text-primary-blue font-trajan-pro-3">Family Photos</h3>
                    </div>
                    <div class="service-card-content">
                        <p class="text-gray-700 mb-4 text-justify">
                            Preserve your family's precious moments with a fun and relaxed outdoor photoshoot. Whether it’s spring bluebonnet photos, vibrant autumn sessions, or anything in between, we capture candid interactions and beautiful posed shots with natural light, creating timeless memories for your family to cherish.
                        </p>
                    </div>
                </div>
                <!-- Service Card 3: Maternity Photos -->
                <div class="service-card w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]" data-service="maternity">
                    <div class="service-card-header">
                        <i class="fas fa-baby text-4xl text-primary-blue"></i>
                        <h3 class="text-xl font-semibold text-primary-blue font-trajan-pro-3">Maternity Photos</h3>
                    </div>
                    <div class="service-card-content">
                        <p class="text-gray-700 mb-4 text-justify">
                            Celebrate the beauty of pregnancy with our exquisite maternity photography. We create elegant natural light images that capture the profound connection and tenderness of your growing family, providing you with beautiful keepsakes of this transformative time.
                        </p>
                    </div>
                </div>
                <!-- Service Card 4: Newborn Photos -->
                <div class="service-card w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]" data-service="newborn">
                    <div class="service-card-header">
                        <i class="fas fa-baby-carriage text-4xl text-primary-blue"></i>
                        <h3 class="text-xl font-semibold text-primary-blue font-trajan-pro-3">Newborn Photos</h3>
                    </div>
                    <div class="service-card-content">
                        <p class="text-gray-700 mb-4 text-justify">
                            Capture the delicate innocence of your newborn with a gentle and heartwarming photoshoot. We focus on creating precious and adorable images, beautifully documenting those fleeting first moments, both of your baby individually and in tender connection with you and your family.
                        </p>
                    </div>
                </div>
                <!-- Service Card 5: Senior/Graduation Photos -->
                <div class="service-card w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]" data-service="senior-graduation">
                    <div class="service-card-header">
                        <i class="fas fa-graduation-cap text-4xl text-primary-blue"></i>
                        <h3 class="text-xl font-semibold text-primary-blue font-trajan-pro-3">Senior / Graduation Photos</h3>
                    </div>
                    <div class="service-card-content">
                        <p class="text-gray-700 mb-4 text-justify">
                            Commemorate this significant milestone with striking senior and graduation photos. We capture the excitement and profound sense of accomplishment that define this moment, delivering stunning natural light portraits that celebrate your unique journey and provide lasting memories.
                        </p>
                    </div>
                </div>
                <!-- Service Card 6: Weddings -->
                <div class="service-card w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]" data-service="weddings">
                    <div class="service-card-header">
                        <i class="fas fa-ring text-4xl text-primary-blue"></i>
                        <h3 class="text-xl font-semibold text-primary-blue font-trajan-pro-3">Weddings</h3>
                    </div>
                    <div class="service-card-content">
                        <p class="text-gray-700 mb-4 text-justify">
                            Your wedding day is the cherished celebration of your special love story. Our wedding photography captures every emotion, detail, and unforgettable moment, creating a beautiful narrative of your special day.
                        </p>
                    </div>
                </div>
                <!-- Service Card 7: Professional Headshots -->
                <div class="service-card w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]" data-service="headshots">
                    <div class="service-card-header">
                        <i class="fas fa-user-tie text-4xl text-primary-blue"></i>
                        <h3 class="text-xl font-semibold text-primary-blue font-trajan-pro-3">Professional Headshots</h3>
                    </div>
                    <div class="service-card-content">
                        <p class="text-gray-700 mb-4 text-justify">
                            Elevate your professional image with a polished natural light headshot. Ideal for LinkedIn, corporate profiles, or personal branding, our headshots help you make a strong first impression.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Us Section -->
    <section id="about" class="container mx-auto py-16 px-4 bg-gray-100">
        <h2 class="text-4xl font-trajan-pro-3 text-center mb-12 text-primary-blue">About Vivid Memories Photography</h2>
        <p class="text-base leading-relaxed max-w-3xl mx-auto mb-8 text-justify">
            Vivid Memories Photography delivers beautiful images for individuals, couples, families, and newborns. Our mission is to help you capture those precious moments in life and preserve them forever, vividly and memorably.
        </p>
        <img src="images/Vivid Memories-trans-black-watermark.png"
             alt="Vivid Memories Photography Logo"
             class="max-w-xs h-auto w-full mx-auto rounded-md"
             onerror="this.onerror=null;this.src='https://placehold.co/128x128/21229d/FFFFFF?text=Logo';">
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 bg-primary-blue text-white">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl text-center mb-12 font-trajan-pro-3">Get in Touch</h2>
            <div class="flex flex-col items-center space-y-8">
                <!-- Email -->
                <div class="text-center">
                    <p class="text-xl mb-2">Email us at:</p>
                    <a href="mailto:vividmemoriesphotos@gmail.com" class="text-accent-green text-lg sm:text-xl md:text-2xl font-semibold hover:underline transition duration-300 font-trajan-pro-3">vividmemoriesphotos@gmail.com</a>
                </div>

                <!-- Social Media Links -->
                <div class="text-center">
                    <p class="text-xl mb-4">Connect with us on social media:</p>
                    <div class="flex space-x-6 justify-center">
                        <a href="https://www.facebook.com/vividmemoriesphotos/" target="_blank" rel="noopener noreferrer"
                           class="text-accent-green hover:text-white transition duration-300 transform hover:scale-110">
                            <i class="fab fa-facebook-square text-6xl"></i>
                        </a>
                        <a href="https://www.instagram.com/vividmemoriesphotos/" target="_blank" rel="noopener noreferrer"
                           class="text-accent-green hover:text-white transition duration-300 transform hover:scale-110">
                            <i class="fab fa-instagram-square text-6xl"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Section -->
    <footer class="bg-gray-800 text-white py-8 text-center">
        <div class="container mx-auto">
            <p>© <span id="currentYear"></span> Vivid Memories Photography. All rights reserved.</p>
        </div>
    </footer>

    <!-- Image Modal/Lightbox Structure -->
    <div id="imageModal" class="modal-overlay">
        <div class="modal-content">
            <img id="modalImage" class="modal-image" src="" alt="Gallery Image">
            <button id="prevButton" class="modal-nav-button left"><i class="fas fa-chevron-left"></i></button>
            <button id="nextButton" class="modal-nav-button right"><i class="fas fa-chevron-right"></i></button>
            <button id="closeModalButton" class="modal-close-button"><i class="fas fa-times"></i></button>
        </div>
    </div>

    <!-- Scroll-to-Top FAB -->
    <button id="scrollTopFab" aria-label="Scroll to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const galleryCarouselContainer = document.getElementById('galleryCarousel');
            const innerCarousel = document.getElementById('innerCarousel');
            const galleryImages = document.querySelectorAll('#innerCarousel .gallery-image');
            const carouselPrevButton = document.getElementById('carouselPrev');
            const carouselNextButton = document.getElementById('carouselNext');

            const imageModal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            const closeModalButton = document.getElementById('closeModalButton');
            let currentOverallImageIndex = 0;

            const imageUrls = Array.from(galleryImages).map(img => img.src);

            let isDragging = false;
            let startX;
            let scrollLeftStart;
            let autoScrollTimeout;

            function updateCarouselSelectionAndArrows() {
                if (imageModal.classList.contains('active')) {
                    return;
                }

                const carouselCenter = galleryCarouselContainer.scrollLeft + galleryCarouselContainer.offsetWidth / 2;
                let closestImageIndex = 0;
                let minDistance = Infinity;

                galleryImages.forEach((img, idx) => {
                    const imageCenter = img.offsetLeft + img.offsetWidth / 2;
                    const distance = Math.abs(imageCenter - carouselCenter);

                    if (distance < minDistance) {
                        minDistance = distance;
                        closestImageIndex = idx;
                    }
                });

                currentOverallImageIndex = closestImageIndex;

                carouselPrevButton.disabled = galleryCarouselContainer.scrollLeft <= 0;
                carouselNextButton.disabled = galleryCarouselContainer.scrollLeft + galleryCarouselContainer.offsetWidth >= galleryCarouselContainer.scrollWidth - 1;
            }

            function scrollToImage(index) {
                currentOverallImageIndex = index;
                galleryImages[currentOverallImageIndex].scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest',
                    inline: 'center'
                });
            }

            carouselNextButton.addEventListener('click', () => {
                if (currentOverallImageIndex < galleryImages.length - 1) {
                    scrollToImage(currentOverallImageIndex + 1);
                }
            });

            carouselPrevButton.addEventListener('click', () => {
                if (currentOverallImageIndex > 0) {
                    scrollToImage(currentOverallImageIndex - 1);
                }
            });

            galleryCarouselContainer.addEventListener('mousedown', (e) => {
                isDragging = true;
                startX = e.clientX;
                scrollLeftStart = galleryCarouselContainer.scrollLeft;
                galleryCarouselContainer.style.cursor = 'grabbing';
                galleryCarouselContainer.style.userSelect = 'none';
            });

            window.addEventListener('mouseup', () => {
                if (isDragging) {
                    isDragging = false;
                    galleryCarouselContainer.style.cursor = 'grab';
                    galleryCarouselContainer.style.removeProperty('user-select');
                    clearTimeout(autoScrollTimeout);
                    autoScrollTimeout = setTimeout(() => {
                        updateCarouselSelectionAndArrows();
                    }, 50);
                }
            });

            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                e.preventDefault();
                const x = e.clientX;
                const walk = (x - startX);
                galleryCarouselContainer.scrollLeft = scrollLeftStart - walk;
            });

            galleryCarouselContainer.addEventListener('touchstart', (e) => {
                isDragging = true;
                startX = e.touches[0].clientX;
                scrollLeftStart = galleryCarouselContainer.scrollLeft;
            });

            galleryCarouselContainer.addEventListener('touchend', () => {
                if (isDragging) {
                    isDragging = false;
                    clearTimeout(autoScrollTimeout);
                    autoScrollTimeout = setTimeout(() => {
                        updateCarouselSelectionAndArrows();
                    }, 50);
                }
            });

            galleryCarouselContainer.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                e.preventDefault();
                const x = e.touches[0].clientX;
                const walk = (x - startX);
                galleryCarouselContainer.scrollLeft = scrollLeftStart - walk;
            });

            galleryCarouselContainer.addEventListener('scroll', () => {
                clearTimeout(autoScrollTimeout);
                autoScrollTimeout = setTimeout(() => {
                    updateCarouselSelectionAndArrows();
                }, 100);
            });

            function openModal(index) {
                currentOverallImageIndex = index;
                modalImage.style.opacity = 0;
                setTimeout(() => {
                    modalImage.src = imageUrls[index];
                    modalImage.style.opacity = 1;
                }, 50);

                imageModal.classList.add('active');
                document.body.classList.add('modal-active');
            }

            function closeModal() {
                imageModal.classList.remove('active');
                document.body.classList.remove('modal-active');
            }

            function showPrevImage() {
                modalImage.style.opacity = 0;
                setTimeout(() => {
                    currentOverallImageIndex = (currentOverallImageIndex - 1 + imageUrls.length) % imageUrls.length;
                    modalImage.src = imageUrls[currentOverallImageIndex];
                    modalImage.style.opacity = 1;
                    scrollToImage(currentOverallImageIndex);
                }, 300);
            }

            function showNextImage() {
                modalImage.style.opacity = 0;
                setTimeout(() => {
                    currentOverallImageIndex = (currentOverallImageIndex + 1) % imageUrls.length;
                    modalImage.src = imageUrls[currentOverallImageIndex];
                    modalImage.style.opacity = 1;
                    scrollToImage(currentOverallImageIndex);
                }, 300);
            }

            galleryImages.forEach((img, index) => {
                img.addEventListener('click', () => openModal(index));
            });

            closeModalButton.addEventListener('click', closeModal);
            prevButton.addEventListener('click', showPrevImage);
            nextButton.addEventListener('click', showNextImage);
            imageModal.addEventListener('click', (e) => {
                if (e.target === imageModal) {
                    closeModal();
                }
            });

            document.addEventListener('keydown', (e) => {
                if (imageModal.classList.contains('active')) {
                    if (e.key === 'ArrowLeft') {
                        showPrevImage();
                    } else if (e.key === 'ArrowRight') {
                        showNextImage();
                    } else if (e.key === 'Escape') {
                        closeModal();
                    }
                }
            });

            setTimeout(() => {
                updateCarouselSelectionAndArrows();
            }, 100);

            let lastWindowWidth = window.innerWidth;
            window.addEventListener('resize', () => {
                if (window.innerWidth !== lastWindowWidth) {
                    lastWindowWidth = window.innerWidth;
                    if (galleryImages && galleryImages.length > currentOverallImageIndex && galleryImages[currentOverallImageIndex]) {
                        scrollToImage(currentOverallImageIndex);
                    }
                }
            });

            const yearSpan = document.getElementById('currentYear');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }

            const scrollTopFab = document.getElementById('scrollTopFab');

            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    scrollTopFab.classList.add('show');
                } else {
                    scrollTopFab.classList.remove('show');
                }
            });

            scrollTopFab.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            const serviceCards = document.querySelectorAll('.service-card');
            let currentlyExpandedCard = null;

            serviceCards.forEach(card => {
                card.addEventListener('click', () => {
                    const content = card.querySelector('.service-card-content');
                    if (card.classList.contains('expanded')) {
                        card.classList.remove('expanded');
                        content.style.maxHeight = '0';
                        currentlyExpandedCard = null;
                    } else {
                        if (currentlyExpandedCard && currentlyExpandedCard !== card) {
                            currentlyExpandedCard.classList.remove('expanded');
                            currentlyExpandedCard.querySelector('.service-card-content').style.maxHeight = '0';
                        }
                        card.classList.add('expanded');
                        setTimeout(() => {
                            content.style.maxHeight = (content.scrollHeight + 30) + 'px';
                        }, 10);
                        currentlyExpandedCard = card;
                    }
                });
            });

            // Mobile menu toggle function
            function toggleMobileMenuState() {
                const mobileMenu = document.getElementById('mobile-menu-container');
                const hamburgerButton = document.getElementById('hamburger-button');
                const closeButton = document.getElementById('close-button');

                if (!mobileMenu || !hamburgerButton || !closeButton) {
                    console.error('Mobile menu elements not found!');
                    return;
                }

                const isOpen = mobileMenu.classList.contains('open');

                if (isOpen) {
                    mobileMenu.classList.remove('open');
                    mobileMenu.style.maxHeight = '0';
                    hamburgerButton.classList.remove('hidden');
                    closeButton.classList.add('hidden');
                } else {
                    mobileMenu.classList.add('open');
                    // Set max-height after adding 'open' class for correct scrollHeight calculation
                    mobileMenu.style.maxHeight = mobileMenu.scrollHeight + 'px';
                    hamburgerButton.classList.add('hidden');
                    closeButton.classList.remove('hidden');
                }
            }

            // Attach event listeners for hamburger and close buttons
            const hamburgerButton = document.getElementById('hamburger-button');
            const closeButton = document.getElementById('close-button');

            if (hamburgerButton) {
                hamburgerButton.addEventListener('click', toggleMobileMenuState);
            }
            if (closeButton) {
                closeButton.addEventListener('click', toggleMobileMenuState);
            }

            // Event listeners for mobile menu links (to close menu after navigation)
            const mobileMenuLinks = document.querySelectorAll('#mobile-menu-container .mobile-menu-link');
            mobileMenuLinks.forEach(link => {
                link.addEventListener('click', () => {
                    toggleMobileMenuState(); // Close the menu when a link is clicked
                    // The universal smooth scroll handler will take care of the actual scrolling
                });
            });

            // Universal smooth scrolling for all internal anchor links, accounting for fixed header
            const header = document.querySelector('header');
            const navLinks = document.querySelectorAll('a[href^="#"]');

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    const targetId = link.getAttribute('href');
                    if (targetId && targetId !== '#') {
                        e.preventDefault(); // Prevent default jump behavior

                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            const headerHeight = header ? header.offsetHeight : 0;
                            const offsetPosition = targetElement.offsetTop - headerHeight;

                            window.scrollTo({
                                top: offsetPosition,
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
